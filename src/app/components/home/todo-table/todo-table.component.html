<div *ngIf="!loaded" class="text-center mt-5">
  <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div *ngIf="loaded" class="w-100 h-100 overflow-auto p-2 p-lg-4">


  <a class="btn btn-primary btn-sm" [routerLink]="[{ outlets: { info: ['..', 'edit', '59'] } }]">edit comp</a>
  <a class="btn btn-primary btn-sm" [routerLink]="[{ outlets: { info: ['..', 'create'] } }]">create comp</a>
  <a class="btn btn-primary btn-sm" [routerLink]="'../board'">board</a>


  <button type="button" class="btn btn-dark">
    <i class="fas fa-fw fa-plus"></i><span class="ms-1">New</span>
  </button>

  <!--  <app-create-todo-modal (createTodoEvent)="onTodoCreated($event)"></app-create-todo-modal>-->
  <!--  <app-edit-todo-modal [todoToEdit]="todoToUpdate" (updateTodoEvent)="onUpdateTodo($event)"></app-edit-todo-modal>-->

  <table class="table table-striped">
    <thead>
    <tr>
      <th class="d-none d-md-table-cell" scope="col">Id</th>
      <th scope="col">Title</th>
      <th class="d-none d-lg-table-cell" scope="col">Created</th>
      <th class="d-none d-lg-table-cell" scope="col">Last Updated</th>
      <th class="d-none d-lg-table-cell" scope="col">Due</th>
      <th scope="col">State</th>
      <th scope="col">Priority</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr
      *ngFor="let todo of todos"
      style="cursor: pointer"
    >
      <th class="d-none d-md-table-cell" scope="row">{{todo.id}}</th>
      <td>{{todo.title}}</td>
      <td class="d-none d-lg-table-cell">{{todo.created | date: 'medium'}}</td>
      <td class="d-none d-lg-table-cell">{{todo.lastUpdated | date: 'medium'}}</td>
      <td class="d-none d-lg-table-cell">{{todo.dueDate | date: 'medium'}}</td>
      <td>
        <span [ngClass]="{
            'bg-success': todo.state === 'DONE',
            'bg-secondary': todo.state === 'DEFERRED',
            'bg-info': todo.state === 'TO DO',
            'bg-primary': todo.state === 'IN PROGRESS'
            }" class="badge">
            {{todo.state}}
        </span>
      </td>
      <td>
        <span [ngClass]="{
      'bg-danger': todo.priority === 'HIGH',
      'bg-warning': todo.priority === 'MEDIUM',
      'bg-success': todo.priority === 'LOW'
      }" class="badge">
          {{todo.priority}}
        </span>
      </td>
      <td>
        <div class="btn-group btn-group-sm" role="group">
          <button
            type="button"
            class="btn btn-outline-primary"
          >
            <i class="fas fa-pen fa-fw"></i>
          </button>
          <button type="button" class="btn btn-outline-danger" (click)="deleteTodoById(todo.id)">
            <i class="fas fa-trash fa-fw"></i>
          </button>
        </div>
      </td>
    </tr>
    </tbody>
  </table>

</div>
