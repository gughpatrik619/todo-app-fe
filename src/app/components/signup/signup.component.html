<div class="container text-center mt-5">
  <div class="m-auto" style="width: 300px">

    <!--  todo:  *ngIf="!this.authService.isLoggedIn.value"-->

    <form

      [formGroup]="signupFormGroup"

      novalidate
      (ngSubmit)="onSubmit()"
    >
      <div formGroupName="signupPayload">
        <h1 class="h2 mb-4 fw-normal">Sign Up</h1>

        <div class="text-start">
          <div class="input-group has-validation mt-2">
            <span class="input-group-text"><i class="fas fa-user fa-fw"></i></span>
            <input
              type="text"
              class="form-control"
              [ngClass]="{
              'is-invalid': (usernameFormControl.dirty || usernameFormControl.touched) && usernameFormControl.invalid,
              'is-valid': (usernameFormControl.dirty || usernameFormControl.touched) && !usernameFormControl.invalid
              }"
              placeholder="Username"
              aria-label="username"
              formControlName="username"
              required
            >
            <div
              *ngIf="usernameFormControl.invalid && (usernameFormControl.dirty || usernameFormControl.touched) && usernameFormControl.errors.required"
              class="invalid-feedback mb-0 mt-01">
              Username is required
            </div>
            <div
              *ngIf="usernameFormControl.invalid && (usernameFormControl.dirty || usernameFormControl.touched) && usernameFormControl.errors.minlength"
              class="invalid-feedback mb-0 mt-01">
              Username must have at least 5 characters
            </div>
          </div>
        </div>

        <div class="text-start">
          <div class="input-group has-validation mt-2">
            <span class="input-group-text"><i class="fas fa-lock fa-fw"></i></span>
            <input
              type="password"
              class="form-control"
              [ngClass]="{
              'is-invalid': (passwordFormControl.dirty || passwordFormControl.touched) && passwordFormControl.invalid,
              'is-valid': (passwordFormControl.dirty || passwordFormControl.touched) && !passwordFormControl.invalid
              }"
              placeholder="Password"
              aria-label="password"
              formControlName="password"
              required
            >
            <div
              *ngIf="passwordFormControl.invalid && (passwordFormControl.dirty || passwordFormControl.touched) && passwordFormControl.errors.required"
              class="invalid-feedback mb-0 mt-01">
              Password is required
            </div>
            <div
              *ngIf="passwordFormControl.invalid && (passwordFormControl.dirty || passwordFormControl.touched) && passwordFormControl.errors.minlength"
              class="invalid-feedback mb-0 mt-01">
              Password must have at least 5 characters
            </div>
          </div>
        </div>

        <div class="text-start">
          <div class="input-group has-validation mt-2">
            <span class="input-group-text"><i class="fas fa-at fa-fw"></i></span>
            <input
              type="text"
              class="form-control"
              [ngClass]="{
              'is-invalid': (emailFormControl.dirty || emailFormControl.touched) && emailFormControl.invalid,
              'is-valid': (emailFormControl.dirty || emailFormControl.touched) && !emailFormControl.invalid
              }"
              placeholder="Email"
              aria-label="email"
              formControlName="email"
              required
            >
            <div
              *ngIf="emailFormControl.invalid && (emailFormControl.dirty || emailFormControl.touched) && emailFormControl.errors.required"
              class="invalid-feedback mb-0 mt-01">
              Email is required
            </div>
            <div
              *ngIf="emailFormControl.invalid && (emailFormControl.dirty || emailFormControl.touched) && emailFormControl.errors.pattern"
              class="invalid-feedback mb-0 mt-01">
              Wrong email format
            </div>
          </div>
        </div>

        <button class="mt-4 w-100 btn btn-primary" type="submit">Sign Up</button>

      </div>
    </form>

  </div>
</div>
